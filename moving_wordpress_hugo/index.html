<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>从 WordPress 迁到 Hugo - Palfans's BLOG</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Palfans"><meta name=description content="
起因 说起来，都不记得这是第几次折腾 Blog 的服务器了。当初为了提高从国内访问的速度，我把搭梯子的 VPS 放在了香港的数据中心，顺便把 Blog 也放在同一台服务器以求节约成本。转眼自己肉翻这么多年，再也没有机会用那把梯子。但从美国家里访问 Blog 就慢得不能忍受，而且因为 VPS 性能不好，时不时就会出现 503 错误。思考再三，决定把站点搬回美国，反正流量可以忽略，至少要满足自己的。
选型 WordPress 的问题 继续使用 WordPress 吗？我有点犹豫了。
WordPress 体量越来越大，新版本我都不太会用了。 网站运行速度慢。更新版本以后，常常需要等好几分钟才能打开后台。 离线编辑器不好用。Windows Live Writer 以及后续的 Open Live Writer 都不再更新了。 太流行，也就意味着目标大。总是要担心各种来自 PHP，WordPress 以及 MySQL 的安全漏洞。 动态网站遭遇 DDoS 的时候，开销也大大高于静态网站。 备份也不省心，定期备还占地方。 "><meta name=keywords content="Palfans,blog"><meta name=google-site-verification content="7MLs3wY58s_Jjnto4NZgvoEHnnJc07ojBCBlgI1gTco"><meta name=generator content="Hugo 0.119.0 with theme even"><link rel=canonical href=https://www.palfans.net/moving_wordpress_hugo/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="从 WordPress 迁到 Hugo"><meta property="og:description" content="
起因
说起来，都不记得这是第几次折腾 Blog 的服务器了。当初为了提高从国内访问的速度，我把搭梯子的 VPS 放在了香港的数据中心，顺便把 Blog 也放在同一台服务器以求节约成本。转眼自己肉翻这么多年，再也没有机会用那把梯子。但从美国家里访问 Blog 就慢得不能忍受，而且因为 VPS 性能不好，时不时就会出现 503 错误。思考再三，决定把站点搬回美国，反正流量可以忽略，至少要满足自己的。
选型
WordPress 的问题
继续使用 WordPress 吗？我有点犹豫了。

WordPress 体量越来越大，新版本我都不太会用了。
网站运行速度慢。更新版本以后，常常需要等好几分钟才能打开后台。
离线编辑器不好用。Windows Live Writer 以及后续的 Open Live Writer 都不再更新了。
太流行，也就意味着目标大。总是要担心各种来自 PHP，WordPress 以及 MySQL 的安全漏洞。
动态网站遭遇 DDoS 的时候，开销也大大高于静态网站。
备份也不省心，定期备还占地方。
"><meta property="og:type" content="article"><meta property="og:url" content="https://www.palfans.net/moving_wordpress_hugo/"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-01-25T21:46:00-06:00"><meta property="article:modified_time" content="2019-01-25T21:46:00-06:00"><meta itemprop=name content="从 WordPress 迁到 Hugo"><meta itemprop=description content="
起因
说起来，都不记得这是第几次折腾 Blog 的服务器了。当初为了提高从国内访问的速度，我把搭梯子的 VPS 放在了香港的数据中心，顺便把 Blog 也放在同一台服务器以求节约成本。转眼自己肉翻这么多年，再也没有机会用那把梯子。但从美国家里访问 Blog 就慢得不能忍受，而且因为 VPS 性能不好，时不时就会出现 503 错误。思考再三，决定把站点搬回美国，反正流量可以忽略，至少要满足自己的。
选型
WordPress 的问题
继续使用 WordPress 吗？我有点犹豫了。

WordPress 体量越来越大，新版本我都不太会用了。
网站运行速度慢。更新版本以后，常常需要等好几分钟才能打开后台。
离线编辑器不好用。Windows Live Writer 以及后续的 Open Live Writer 都不再更新了。
太流行，也就意味着目标大。总是要担心各种来自 PHP，WordPress 以及 MySQL 的安全漏洞。
动态网站遭遇 DDoS 的时候，开销也大大高于静态网站。
备份也不省心，定期备还占地方。
"><meta itemprop=datePublished content="2019-01-25T21:46:00-06:00"><meta itemprop=dateModified content="2019-01-25T21:46:00-06:00"><meta itemprop=wordCount content="1154"><meta itemprop=keywords content="github,hugo,wordpress,"><meta name=twitter:card content="summary"><meta name=twitter:title content="从 WordPress 迁到 Hugo"><meta name=twitter:description content="
起因
说起来，都不记得这是第几次折腾 Blog 的服务器了。当初为了提高从国内访问的速度，我把搭梯子的 VPS 放在了香港的数据中心，顺便把 Blog 也放在同一台服务器以求节约成本。转眼自己肉翻这么多年，再也没有机会用那把梯子。但从美国家里访问 Blog 就慢得不能忍受，而且因为 VPS 性能不好，时不时就会出现 503 错误。思考再三，决定把站点搬回美国，反正流量可以忽略，至少要满足自己的。
选型
WordPress 的问题
继续使用 WordPress 吗？我有点犹豫了。

WordPress 体量越来越大，新版本我都不太会用了。
网站运行速度慢。更新版本以后，常常需要等好几分钟才能打开后台。
离线编辑器不好用。Windows Live Writer 以及后续的 Open Live Writer 都不再更新了。
太流行，也就意味着目标大。总是要担心各种来自 PHP，WordPress 以及 MySQL 的安全漏洞。
动态网站遭遇 DDoS 的时候，开销也大大高于静态网站。
备份也不省心，定期备还占地方。
"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Palfans's BLOG</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>Palfans's BLOG</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>从 WordPress 迁到 Hugo</h1><div class=post-meta><span class=post-time>2019-01-25</span><div class=post-category><a href=/categories/%E6%8A%80%E6%9C%AF%E6%A0%88/>技术栈</a></div></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><ul><li><a href=#起因>起因</a></li><li><a href=#选型>选型</a><ul><li><a href=#wordpress-的问题>WordPress 的问题</a></li><li><a href=#github-pages--hugo>Github Pages + Hugo</a></li></ul></li><li><a href=#开干>开干</a><ul><li><a href=#搭环境>搭环境</a></li><li><a href=#数据迁移>数据迁移</a></li></ul></li><li><a href=#最后>最后</a></li></ul></li></ul></nav></div></div><div class=post-content><p><img src=/img/migrate_to_hugo/migration.png alt></p><h2 id=起因>起因</h2><p>说起来，都不记得这是第几次折腾 Blog 的服务器了。当初为了提高从国内访问的速度，我把搭梯子的 VPS 放在了香港的数据中心，顺便把 Blog 也放在同一台服务器以求节约成本。转眼自己肉翻这么多年，再也没有机会用那把梯子。但从美国家里访问 Blog 就慢得不能忍受，而且因为 VPS 性能不好，时不时就会出现 503 错误。思考再三，决定把站点搬回美国，反正流量可以忽略，至少要满足自己的。</p><h2 id=选型>选型</h2><h3 id=wordpress-的问题>WordPress 的问题</h3><p>继续使用 WordPress 吗？我有点犹豫了。</p><ol><li>WordPress 体量越来越大，新版本我都不太会用了。</li><li>网站运行速度慢。更新版本以后，常常需要等好几分钟才能打开后台。</li><li>离线编辑器不好用。Windows Live Writer 以及后续的 <a href=http://openlivewriter.org/>Open Live Writer</a> 都不再更新了。</li><li>太流行，也就意味着目标大。总是要担心各种来自 PHP，WordPress 以及 MySQL 的安全漏洞。</li><li>动态网站遭遇 DDoS 的时候，开销也大大高于静态网站。</li><li>备份也不省心，定期备还占地方。</li></ol><h3 id=github-pages--hugo>Github Pages + Hugo</h3><p>突然有一天，我发现大量的码农网站都是由 <a href=https://gohugo.io/>Hugo</a> 驱动的，这是个啥？</p><p>看了一圈，它就是个轻量（只有一个文件）的静态页面生成器，读取 Markdown 文件，生成静态的 HTML 文件。把这些 HTML 文件提交到 Github Pages，就能访问了。</p><h4 id=优势>优势</h4><ol><li>Github Pages 免维护。整个站点全是纯静态的页面，唯一的交互就是评论系统，也是利用了 Github 自己的 Issues。再也不用纠结服务器问题。</li><li>Github Pages 速度快。还是因为纯静态网页的优势，至少在美国的网络环境我能秒开各个托管在 Github 的网站。</li><li>自带 SSL 证书。Github 自动给所有 Pages 网站加上小绿锁，包括自定域名。虽然仍是基于 Let&rsquo;s Encrypt 的免费证书，但每三个月自动续期，完全不用操心。</li><li>Hugo 足够快。我试了下我总共需要生成 976 个页面，耗时 2 秒钟。</li><li>Hugo 自带服务器端。调试非常容易。</li><li>熟悉 git 操作。公司体量较大，现在终于开始慢慢转向使用 git 做版本控制。我也可以借此熟悉 git 的各种操作。</li><li>熟悉 markdown 语法。</li><li>感觉网站放在 Github 是码农的认证标识。</li></ol><h4 id=劣势>劣势</h4><ol><li>之前 WordPress 的很多标配功能没有了，花时间调试的模板也不能直接用。</li><li>上手曲线不够平缓，有学习门槛。</li><li>相当依赖命令行。WordPress 可以利用在线后台更新内容，但现在就必须本地安装 Git，Hugo，Markdown 编辑器，写一篇文章就需要提交一次。虽然可以利用 Travis CI 来自动生成静态页面，但免费用户只能读取 Github 的公有库，读不了私有库，暂时没考虑。</li><li>没想好。。。</li></ol><h2 id=开干>开干</h2><h3 id=搭环境>搭环境</h3><p>这个就比较简单了，安装 Git，Hugo 和 Typora，连接到远端的 Github 库，Google 一下，各种教程应有尽有。</p><h3 id=数据迁移>数据迁移</h3><p>网上都在推荐一款插件 <a href=https://github.com/SchumacherFM/wordpress-to-hugo-exporter>wordpress-to-hugo-exporter</a> ，实测是个<strong>坑</strong>。在最新的 WordPress 上报函数重复定义的错误，自己段位低，解决不了。我用了一个 python 脚本 <a href=https://github.com/wooni005/exitwp-for-hugo>exitwp-for-hugo</a>，需要先导出 XML，再转成 Markdown，不过执行效率非常高，几百篇文章，几秒搞定。每篇文章转换后都自带了 URL 属性，直接就能用，最后的链接保持了 domain/title 的形式，完全不影响 Google 的搜索结果。</p><h2 id=最后>最后</h2><p>其实这篇文章是试水，看看新建文章到底好不好使。</p><p>就这。</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>Palfans</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2019-01-25</span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/github/>github</a>
<a href=/tags/hugo/>hugo</a>
<a href=/tags/wordpress/>wordpress</a></div><nav class=post-nav><a class=prev href=/install-docker-ce-on-rhel7/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">RHEL 7 上安装 Docker CE</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/xfce4_failed_to_execute_default_terminal_emulator/><span class="next-text nav-default">Xfce4 failed to execute default Terminal Emulator</span>
<span class="next-text nav-mobile">下一篇</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><script src=https://utteranc.es/client.js repo=palfans/blog-comments issue-term=pathname theme=github-light crossorigin=anonymous async></script><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:admin@palfans.net class="iconfont icon-email" title=email></a>
<a href=https://twitter.com/palfans class="iconfont icon-twitter" title=twitter></a>
<a href=https://www.palfans.net/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io>Hugo</a> 强力驱动</span>
<span class=division>|</span>
<span class=theme-info>主题 -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2005 -
2023<span class=heart><i class="iconfont icon-heart"></i></span><span>Palfans</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-287929-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>